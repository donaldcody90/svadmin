<?php
if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Customers_model extends MY_Model
{
	 private $customers = 'customers';

     function __construct()
     {
        parent::__construct();
     }
	 
	 
	/*
		Function findUser
		param_where = array(fieldName=>fieldValue)
	*/
	
    function findCustomer123($params_where)
	{
		
		//$this->db->where($params_where);
		$result= $this->db->get($this->customers);
		
		return $result->custom_result_object($this->customers);
	}
     function findCustomer($params_where,$is_list=false){
          $user = $this->_getwhere(array(
                         'table'        => $this->customers,
                         'param_where'  => $params_where,
                         'list'=>$is_list
          ));
          return $user;
    }
	function updateCustomer($data,$params_where){
            return $this->_save(array(
                                        'table'        => $this->customers,
                                        'data'         => $data,
                                        'param_where'  => $params_where
                                   ));
			
       }
	

     /*function insertUser($data){
          return $this->_save(array(
               'table' => $this->table_users,
               'data' => $data
          ));
     }*/

     function deleteCustomer($params_where){
        $this->db->delete($this->customers, $params_where);
		  
		return $this->db->affected_rows();
		
     }
	 
	 function listCustomer($filter = null,$limit = 0,$start = 0){
		 if($filter !=null){
          vst_buildFilter($filter);
		 }
		 if($limit == 0){
			 $result = $this->db->get($this->customers);
		 }else{
			$result = $this->db->get($this->customers, $limit, $start);
		  }
          return $result->result();
     }
	 
	 function totalCustomer($filter){
		vst_buildFilter($filter);
        $result = $this->db->get($this->customers);
		
		return $result->num_rows();
     }

	function addCustomer($data)
	{
		return $this->_save(array(
							'table'    => $this->customers,
							'data'     => $data
						   ));
	}
}
?>